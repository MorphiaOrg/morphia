<!DOCTYPE HTML>
<!-- NewPage -->
<html lang>
<head>
<!-- Generated by javadoc (11.0.26) on Mon Apr 07 05:35:09 UTC 2025 -->
<title>AggregationImpl (Morphia)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-04-07">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AggregationImpl (Morphia)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AggregationImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">dev.morphia.aggregation</a></div>
<h2 title="Class AggregationImpl" class="title">Class AggregationImpl&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>dev.morphia.aggregation.AggregationImpl&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - </dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;T&gt;</code></dd>
</dl>
<hr>
<pre>@MorphiaInternal
public class <span class="typeNameLabel">AggregationImpl&lt;T&gt;</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;T&gt;</pre>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0</dd>
<div class="deprecationBlock"><span class="deprecatedLabel">Developer note.</span> <div class="deprecationComment">This is an internal item.  Its function and presence are subject to change without warning.  Its use is highly discouraged.</div> </div></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(dev.morphia.DatastoreImpl,com.mongodb.client.MongoCollection)">AggregationImpl</a></span>&#8203;(<a href="../DatastoreImpl.html" title="class in dev.morphia">DatastoreImpl</a>&nbsp;datastore,
               <a href="https://mongodb.github.io/mongo-java-driver/5.4/apidocs/mongodb-driver-sync/com/mongodb/client/MongoCollection.html?is-external=true" title="class or interface in com.mongodb.client" class="externalLink">MongoCollection</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;collection)</code></th>
<td class="colLast">
<div class="block">Creates an instance.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(dev.morphia.DatastoreImpl,java.lang.Class,com.mongodb.client.MongoCollection)">AggregationImpl</a></span>&#8203;(<a href="../DatastoreImpl.html" title="class in dev.morphia">DatastoreImpl</a>&nbsp;datastore,
               <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;source,
               <a href="https://mongodb.github.io/mongo-java-driver/5.4/apidocs/mongodb-driver-sync/com/mongodb/client/MongoCollection.html?is-external=true" title="class or interface in com.mongodb.client" class="externalLink">MongoCollection</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;collection)</code></th>
<td class="colLast">
<div class="block">Creates an instance.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addFields(dev.morphia.aggregation.stages.AddFields)">addFields</a></span>&#8203;(<a href="stages/AddFields.html" title="class in dev.morphia.aggregation.stages">AddFields</a>&nbsp;fields)</code></th>
<td class="colLast">
<div class="block">Adds new fields to documents.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addStage(dev.morphia.aggregation.stages.Stage)">addStage</a></span>&#8203;(<a href="stages/Stage.html" title="class in dev.morphia.aggregation.stages">Stage</a>&nbsp;stage)</code></th>
<td class="colLast">
<div class="block">Adds a custom stage to this pipeline.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#autoBucket(dev.morphia.aggregation.stages.AutoBucket)">autoBucket</a></span>&#8203;(<a href="stages/AutoBucket.html" title="class in dev.morphia.aggregation.stages">AutoBucket</a>&nbsp;bucket)</code></th>
<td class="colLast">
<div class="block">Categorizes incoming documents into a specific number of groups, called buckets, based on a specified expression.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bucket(dev.morphia.aggregation.stages.Bucket)">bucket</a></span>&#8203;(<a href="stages/Bucket.html" title="class in dev.morphia.aggregation.stages">Bucket</a>&nbsp;bucket)</code></th>
<td class="colLast">
<div class="block">Categorizes incoming documents into groups, called buckets, based on a specified expression and bucket boundaries.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#changeStream()">changeStream</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a Change Stream cursor on a collection, a database, or an entire cluster.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#changeStream(dev.morphia.aggregation.stages.ChangeStream)">changeStream</a></span>&#8203;(<a href="stages/ChangeStream.html" title="class in dev.morphia.aggregation.stages">ChangeStream</a>&nbsp;stream)</code></th>
<td class="colLast">
<div class="block">Returns a Change Stream cursor on a collection, a database, or an entire cluster.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#collStats(dev.morphia.aggregation.stages.CollectionStats)">collStats</a></span>&#8203;(<a href="stages/CollectionStats.html" title="class in dev.morphia.aggregation.stages">CollectionStats</a>&nbsp;stats)</code></th>
<td class="colLast">
<div class="block">Returns statistics regarding a collection or view.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#count(java.lang.String)">count</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Passes a document to the next stage that contains a count of the number of documents input to the stage.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#currentOp(dev.morphia.aggregation.stages.CurrentOp)">currentOp</a></span>&#8203;(<a href="stages/CurrentOp.html" title="class in dev.morphia.aggregation.stages">CurrentOp</a>&nbsp;currentOp)</code></th>
<td class="colLast">
<div class="block">Returns a stream of documents containing information on active and/or dormant operations as well as inactive sessions that are
 holding locks as part of a transaction.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#densify(dev.morphia.aggregation.stages.Densify)">densify</a></span>&#8203;(<a href="stages/Densify.html" title="class in dev.morphia.aggregation.stages">Densify</a>&nbsp;densify)</code></th>
<td class="colLast">
<div class="block">Creates new documents in a sequence of documents where certain values in a field are missing.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#documents(dev.morphia.aggregation.expressions.impls.DocumentExpression...)">documents</a></span>&#8203;(dev.morphia.aggregation.expressions.impls.DocumentExpression...&nbsp;documents)</code></th>
<td class="colLast">
<div class="block">Returns literal documents from input values.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;dev.morphia.query.internal.MorphiaCursor&lt;R&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#execute(java.lang.Class)">execute</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;R&gt;&nbsp;resultType)</code></th>
<td class="colLast">
<div class="block">Execute the aggregation and get the results.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;dev.morphia.query.internal.MorphiaCursor&lt;R&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#execute(java.lang.Class,dev.morphia.aggregation.AggregationOptions)">execute</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;R&gt;&nbsp;resultType,
       <a href="AggregationOptions.html" title="class in dev.morphia.aggregation">AggregationOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Execute the aggregation and get the results.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#facet(dev.morphia.aggregation.stages.Facet)">facet</a></span>&#8203;(<a href="stages/Facet.html" title="class in dev.morphia.aggregation.stages">Facet</a>&nbsp;facet)</code></th>
<td class="colLast">
<div class="block">Processes multiple aggregation pipelines within a single stage on the same set of input documents.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fill(dev.morphia.aggregation.stages.Fill)">fill</a></span>&#8203;(<a href="stages/Fill.html" title="class in dev.morphia.aggregation.stages">Fill</a>&nbsp;fill)</code></th>
<td class="colLast">
<div class="block">Populates null and missing field values within documents.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#geoNear(dev.morphia.aggregation.stages.GeoNear)">geoNear</a></span>&#8203;(<a href="stages/GeoNear.html" title="class in dev.morphia.aggregation.stages">GeoNear</a>&nbsp;near)</code></th>
<td class="colLast">
<div class="block">Outputs documents in order of nearest to farthest from a specified point.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="stages/Stage.html" title="class in dev.morphia.aggregation.stages">Stage</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStages()">getStages</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#graphLookup(dev.morphia.aggregation.stages.GraphLookup)">graphLookup</a></span>&#8203;(<a href="stages/GraphLookup.html" title="class in dev.morphia.aggregation.stages">GraphLookup</a>&nbsp;lookup)</code></th>
<td class="colLast">
<div class="block">Performs a recursive search on a collection, with options for restricting the search by recursion depth and query filter.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#group(dev.morphia.aggregation.stages.Group)">group</a></span>&#8203;(<a href="stages/Group.html" title="class in dev.morphia.aggregation.stages">Group</a>&nbsp;group)</code></th>
<td class="colLast">
<div class="block">Groups input documents by the specified _id expression and for each distinct grouping, outputs a document.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#indexStats()">indexStats</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns statistics regarding the use of each index for the collection.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#limit(long)">limit</a></span>&#8203;(long&nbsp;limit)</code></th>
<td class="colLast">
<div class="block">Limits the number of documents passed to the next stage in the pipeline.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lookup(dev.morphia.aggregation.stages.Lookup)">lookup</a></span>&#8203;(<a href="stages/Lookup.html" title="class in dev.morphia.aggregation.stages">Lookup</a>&nbsp;lookup)</code></th>
<td class="colLast">
<div class="block">Performs a left outer join to an unsharded collection in the same database to filter in documents from the “joined” collection for
 processing.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#match(dev.morphia.query.filters.Filter...)">match</a></span>&#8203;(<a href="../query/filters/Filter.html" title="class in dev.morphia.query.filters">Filter</a>...&nbsp;filters)</code></th>
<td class="colLast">
<div class="block">Filters the document stream to allow only matching documents to pass unmodified into the next pipeline stage.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>&lt;M&gt;&nbsp;void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#merge(dev.morphia.aggregation.stages.Merge)">merge</a></span>&#8203;(<a href="stages/Merge.html" title="class in dev.morphia.aggregation.stages">Merge</a>&lt;M&gt;&nbsp;merge)</code></th>
<td class="colLast">
<div class="block">Writes the results of the aggregation pipeline to a specified collection.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>&lt;M&gt;&nbsp;void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#merge(dev.morphia.aggregation.stages.Merge,dev.morphia.aggregation.AggregationOptions)">merge</a></span>&#8203;(<a href="stages/Merge.html" title="class in dev.morphia.aggregation.stages">Merge</a>&lt;M&gt;&nbsp;merge,
     <a href="AggregationOptions.html" title="class in dev.morphia.aggregation">AggregationOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Writes the results of the aggregation pipeline to a specified collection.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>&lt;O&gt;&nbsp;void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#out(dev.morphia.aggregation.stages.Out)">out</a></span>&#8203;(<a href="stages/Out.html" title="class in dev.morphia.aggregation.stages">Out</a>&lt;O&gt;&nbsp;out)</code></th>
<td class="colLast">
<div class="block">Writes the results of the aggregation pipeline to a specified collection.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>&lt;O&gt;&nbsp;void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#out(dev.morphia.aggregation.stages.Out,dev.morphia.aggregation.AggregationOptions)">out</a></span>&#8203;(<a href="stages/Out.html" title="class in dev.morphia.aggregation.stages">Out</a>&lt;O&gt;&nbsp;out,
   <a href="AggregationOptions.html" title="class in dev.morphia.aggregation">AggregationOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Writes the results of the aggregation pipeline to a specified collection.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://mongodb.github.io/mongo-java-driver/5.4/apidocs/bson/org/bson/Document.html?is-external=true" title="class or interface in org.bson" class="externalLink">Document</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pipeline()">pipeline</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#planCacheStats()">planCacheStats</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns plan cache information for a collection.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#project(dev.morphia.aggregation.stages.Projection)">project</a></span>&#8203;(<a href="stages/Projection.html" title="class in dev.morphia.aggregation.stages">Projection</a>&nbsp;projection)</code></th>
<td class="colLast">
<div class="block">Passes along the documents with the requested fields to the next stage in the pipeline.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#redact(dev.morphia.aggregation.stages.Redact)">redact</a></span>&#8203;(<a href="stages/Redact.html" title="class in dev.morphia.aggregation.stages">Redact</a>&nbsp;redact)</code></th>
<td class="colLast">
<div class="block">Restricts the contents of the documents based on information stored in the documents themselves.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#replaceRoot(dev.morphia.aggregation.stages.ReplaceRoot)">replaceRoot</a></span>&#8203;(<a href="stages/ReplaceRoot.html" title="class in dev.morphia.aggregation.stages">ReplaceRoot</a>&nbsp;root)</code></th>
<td class="colLast">
<div class="block">Replaces the input document with the specified document.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#replaceWith(dev.morphia.aggregation.stages.ReplaceWith)">replaceWith</a></span>&#8203;(<a href="stages/ReplaceWith.html" title="class in dev.morphia.aggregation.stages">ReplaceWith</a>&nbsp;with)</code></th>
<td class="colLast">
<div class="block">Replaces the input document with the specified document.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sample(long)">sample</a></span>&#8203;(long&nbsp;sample)</code></th>
<td class="colLast">
<div class="block">Randomly selects the specified number of documents from the previous pipeline stage.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#set(dev.morphia.aggregation.stages.Set)">set</a></span>&#8203;(<a href="stages/Set.html" title="class in dev.morphia.aggregation.stages">Set</a>&nbsp;set)</code></th>
<td class="colLast">
<div class="block">Adds new fields to documents.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setWindowFields(dev.morphia.aggregation.stages.SetWindowFields)">setWindowFields</a></span>&#8203;(<a href="stages/SetWindowFields.html" title="class in dev.morphia.aggregation.stages">SetWindowFields</a>&nbsp;fields)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#skip(long)">skip</a></span>&#8203;(long&nbsp;skip)</code></th>
<td class="colLast">
<div class="block">Skips over the specified number of documents that pass into the stage and passes the remaining documents to the next stage in the
 pipeline.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sort(dev.morphia.aggregation.stages.Sort)">sort</a></span>&#8203;(<a href="stages/Sort.html" title="class in dev.morphia.aggregation.stages">Sort</a>&nbsp;sort)</code></th>
<td class="colLast">
<div class="block">Sorts all input documents and returns them to the pipeline in sorted order.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sortByCount(dev.morphia.aggregation.expressions.impls.Expression)">sortByCount</a></span>&#8203;(dev.morphia.aggregation.expressions.impls.Expression&nbsp;sort)</code></th>
<td class="colLast">
<div class="block">Groups incoming documents based on the value of a specified expression, then computes the count of documents in each distinct group.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unionWith(java.lang.Class,dev.morphia.aggregation.stages.Stage,dev.morphia.aggregation.stages.Stage...)">unionWith</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;?&gt;&nbsp;type,
         <a href="stages/Stage.html" title="class in dev.morphia.aggregation.stages">Stage</a>&nbsp;first,
         <a href="stages/Stage.html" title="class in dev.morphia.aggregation.stages">Stage</a>...&nbsp;others)</code></th>
<td class="colLast">
<div class="block">Performs a union of two collections; i.e.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unionWith(java.lang.String,dev.morphia.aggregation.stages.Stage,dev.morphia.aggregation.stages.Stage...)">unionWith</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;collection,
         <a href="stages/Stage.html" title="class in dev.morphia.aggregation.stages">Stage</a>&nbsp;first,
         <a href="stages/Stage.html" title="class in dev.morphia.aggregation.stages">Stage</a>...&nbsp;others)</code></th>
<td class="colLast">
<div class="block">Performs a union of two collections; i.e.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unset(dev.morphia.aggregation.stages.Unset)">unset</a></span>&#8203;(<a href="stages/Unset.html" title="class in dev.morphia.aggregation.stages">Unset</a>&nbsp;unset)</code></th>
<td class="colLast">
<div class="block">Removes/excludes fields from documents.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unwind(dev.morphia.aggregation.stages.Unwind)">unwind</a></span>&#8203;(<a href="stages/Unwind.html" title="class in dev.morphia.aggregation.stages">Unwind</a>&nbsp;unwind)</code></th>
<td class="colLast">
<div class="block">Deconstructs an array field from the input documents to output a document for each element.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.dev.morphia.aggregation.Aggregation">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;dev.morphia.aggregation.<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a></h3>
<code><a href="Aggregation.html#set(dev.morphia.aggregation.stages.AddFields)">set</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(dev.morphia.DatastoreImpl,com.mongodb.client.MongoCollection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AggregationImpl</h4>
<pre>@MorphiaInternal
public&nbsp;AggregationImpl&#8203;(<a href="../DatastoreImpl.html" title="class in dev.morphia">DatastoreImpl</a>&nbsp;datastore,
                       <a href="https://mongodb.github.io/mongo-java-driver/5.4/apidocs/mongodb-driver-sync/com/mongodb/client/MongoCollection.html?is-external=true" title="class or interface in com.mongodb.client" class="externalLink">MongoCollection</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;collection)</pre>
<div class="block">Creates an instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>datastore</code> - the datastore</dd>
<dd><code>collection</code> - the source collection</dd>
<div class="deprecationBlock"><span class="deprecatedLabel">Developer note.</span> <div class="deprecationComment">This is an internal item.  Its function and presence are subject to change without warning.  Its use is highly discouraged.</div> </div></dl>
</li>
</ul>
<a id="&lt;init&gt;(dev.morphia.DatastoreImpl,java.lang.Class,com.mongodb.client.MongoCollection)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AggregationImpl</h4>
<pre>@MorphiaInternal
public&nbsp;AggregationImpl&#8203;(<a href="../DatastoreImpl.html" title="class in dev.morphia">DatastoreImpl</a>&nbsp;datastore,
                       <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;source,
                       <a href="https://mongodb.github.io/mongo-java-driver/5.4/apidocs/mongodb-driver-sync/com/mongodb/client/MongoCollection.html?is-external=true" title="class or interface in com.mongodb.client" class="externalLink">MongoCollection</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;collection)</pre>
<div class="block">Creates an instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>datastore</code> - the datastore</dd>
<dd><code>source</code> - the source type</dd>
<dd><code>collection</code> - the source collection</dd>
<div class="deprecationBlock"><span class="deprecatedLabel">Developer note.</span> <div class="deprecationComment">This is an internal item.  Its function and presence are subject to change without warning.  Its use is highly discouraged.</div> </div></dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="autoBucket(dev.morphia.aggregation.stages.AutoBucket)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>autoBucket</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;autoBucket&#8203;(<a href="stages/AutoBucket.html" title="class in dev.morphia.aggregation.stages">AutoBucket</a>&nbsp;bucket)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#autoBucket(dev.morphia.aggregation.stages.AutoBucket)">Aggregation</a></code></span></div>
<div class="block">Categorizes incoming documents into a specific number of groups, called buckets, based on a specified expression. Bucket
 boundaries are automatically determined in an attempt to evenly distribute the documents into the specified number of buckets.
 <p>
 Each bucket is represented as a document in the output. The document for each bucket contains an _id field, whose value specifies
 the inclusive lower bound and the exclusive upper bound for the bucket, and a count field that contains the number of documents in
 the bucket. The count field is included by default when the output is not specified.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#autoBucket(dev.morphia.aggregation.stages.AutoBucket)">autoBucket</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bucket</code> - the bucket definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="bucket(dev.morphia.aggregation.stages.Bucket)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bucket</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;bucket&#8203;(<a href="stages/Bucket.html" title="class in dev.morphia.aggregation.stages">Bucket</a>&nbsp;bucket)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#bucket(dev.morphia.aggregation.stages.Bucket)">Aggregation</a></code></span></div>
<div class="block">Categorizes incoming documents into groups, called buckets, based on a specified expression and bucket boundaries.
 <p>
 Each bucket is represented as a document in the output. The document for each bucket contains an _id field, whose value specifies
 the inclusive lower bound of the bucket and a count field that contains the number of documents in the bucket. The count field is
 included by default when the output is not specified.
 <p>
 $bucket only produces output documents for buckets that contain at least one input document.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#bucket(dev.morphia.aggregation.stages.Bucket)">bucket</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bucket</code> - the bucket definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="collStats(dev.morphia.aggregation.stages.CollectionStats)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collStats</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;collStats&#8203;(<a href="stages/CollectionStats.html" title="class in dev.morphia.aggregation.stages">CollectionStats</a>&nbsp;stats)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#collStats(dev.morphia.aggregation.stages.CollectionStats)">Aggregation</a></code></span></div>
<div class="block">Returns statistics regarding a collection or view.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#collStats(dev.morphia.aggregation.stages.CollectionStats)">collStats</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stats</code> - the stats configuration</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="count(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>count</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;count&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#count(java.lang.String)">Aggregation</a></code></span></div>
<div class="block">Passes a document to the next stage that contains a count of the number of documents input to the stage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#count(java.lang.String)">count</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the field name for the resulting count value</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="currentOp(dev.morphia.aggregation.stages.CurrentOp)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentOp</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;currentOp&#8203;(<a href="stages/CurrentOp.html" title="class in dev.morphia.aggregation.stages">CurrentOp</a>&nbsp;currentOp)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#currentOp(dev.morphia.aggregation.stages.CurrentOp)">Aggregation</a></code></span></div>
<div class="block">Returns a stream of documents containing information on active and/or dormant operations as well as inactive sessions that are
 holding locks as part of a transaction. The stage returns a document for each operation or session. To run $currentOp, use the
 db.aggregate() helper on the admin database.
 <p>
 The $currentOp aggregation stage is preferred over the currentOp command and its mongo shell helper db.currentOp(). Because
 currentOp command and db.currentOp() helper returns the results in a single document, the total size of the currentOp result
 set is subject to the maximum 16MB BSON size limit for documents. The $currentOp stage returns a cursor over a stream of
 documents, each of which reports a single operation. Each operation document is subject to the 16MB BSON limit, but unlike the
 currentOp command, there is no limit on the overall size of the result set.
 <p>
 $currentOp also enables you to perform arbitrary transformations of the results as the documents pass through the pipeline.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#currentOp(dev.morphia.aggregation.stages.CurrentOp)">currentOp</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>currentOp</code> - the configuration</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="densify(dev.morphia.aggregation.stages.Densify)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>densify</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;densify&#8203;(<a href="stages/Densify.html" title="class in dev.morphia.aggregation.stages">Densify</a>&nbsp;densify)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#densify(dev.morphia.aggregation.stages.Densify)">Aggregation</a></code></span></div>
<div class="block">Creates new documents in a sequence of documents where certain values in a field are missing.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#densify(dev.morphia.aggregation.stages.Densify)">densify</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>densify</code> - the Densify stage</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="documents(dev.morphia.aggregation.expressions.impls.DocumentExpression...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>documents</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;documents&#8203;(dev.morphia.aggregation.expressions.impls.DocumentExpression...&nbsp;documents)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#documents(dev.morphia.aggregation.expressions.impls.DocumentExpression...)">Aggregation</a></code></span></div>
<div class="block">Returns literal documents from input values.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#documents(dev.morphia.aggregation.expressions.impls.DocumentExpression...)">documents</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>documents</code> - the documents to use</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="execute(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>execute</h4>
<pre class="methodSignature">public&nbsp;&lt;R&gt;&nbsp;dev.morphia.query.internal.MorphiaCursor&lt;R&gt;&nbsp;execute&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;R&gt;&nbsp;resultType)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#execute(java.lang.Class)">Aggregation</a></code></span></div>
<div class="block">Execute the aggregation and get the results.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#execute(java.lang.Class)">execute</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - the output type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resultType</code> - the type of the result</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a MorphiaCursor</dd>
</dl>
</li>
</ul>
<a id="execute(java.lang.Class,dev.morphia.aggregation.AggregationOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>execute</h4>
<pre class="methodSignature">public&nbsp;&lt;R&gt;&nbsp;dev.morphia.query.internal.MorphiaCursor&lt;R&gt;&nbsp;execute&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;R&gt;&nbsp;resultType,
                                                               <a href="AggregationOptions.html" title="class in dev.morphia.aggregation">AggregationOptions</a>&nbsp;options)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#execute(java.lang.Class,dev.morphia.aggregation.AggregationOptions)">Aggregation</a></code></span></div>
<div class="block">Execute the aggregation and get the results.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#execute(java.lang.Class,dev.morphia.aggregation.AggregationOptions)">execute</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - the output type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resultType</code> - the type of the result</dd>
<dd><code>options</code> - the options to apply</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a MorphiaCursor</dd>
</dl>
</li>
</ul>
<a id="facet(dev.morphia.aggregation.stages.Facet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>facet</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;facet&#8203;(<a href="stages/Facet.html" title="class in dev.morphia.aggregation.stages">Facet</a>&nbsp;facet)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#facet(dev.morphia.aggregation.stages.Facet)">Aggregation</a></code></span></div>
<div class="block">Processes multiple aggregation pipelines within a single stage on the same set of input documents. Each sub-pipeline has its own
 field in the output document where its results are stored as an array of documents.
 <p>
 The $facet stage allows you to create multi-faceted aggregations which characterize data across multiple dimensions, or facets,
 within a single aggregation stage. Multi-faceted aggregations provide multiple filters and categorizations to guide data browsing
 and analysis. Retailers commonly use faceting to narrow search results by creating filters on product price, manufacturer, size, etc.
 <p>
 Input documents are passed to the $facet stage only once. $facet enables various aggregations on the same set of input documents,
 without needing to retrieve the input documents multiple times.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#facet(dev.morphia.aggregation.stages.Facet)">facet</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>facet</code> - the facet definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="fill(dev.morphia.aggregation.stages.Fill)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fill</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;fill&#8203;(<a href="stages/Fill.html" title="class in dev.morphia.aggregation.stages">Fill</a>&nbsp;fill)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#fill(dev.morphia.aggregation.stages.Fill)">Aggregation</a></code></span></div>
<div class="block">Populates null and missing field values within documents.
 <p>
 You can use $fill to populate missing data points:
 <ul>
 <li>In a sequence based on surrounding values.
 <li>With a fixed value.
 </ul></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#fill(dev.morphia.aggregation.stages.Fill)">fill</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fill</code> - the fill definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="geoNear(dev.morphia.aggregation.stages.GeoNear)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>geoNear</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;geoNear&#8203;(<a href="stages/GeoNear.html" title="class in dev.morphia.aggregation.stages">GeoNear</a>&nbsp;near)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#geoNear(dev.morphia.aggregation.stages.GeoNear)">Aggregation</a></code></span></div>
<div class="block">Outputs documents in order of nearest to farthest from a specified point.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#geoNear(dev.morphia.aggregation.stages.GeoNear)">geoNear</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>near</code> - the geo query definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="graphLookup(dev.morphia.aggregation.stages.GraphLookup)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>graphLookup</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;graphLookup&#8203;(<a href="stages/GraphLookup.html" title="class in dev.morphia.aggregation.stages">GraphLookup</a>&nbsp;lookup)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#graphLookup(dev.morphia.aggregation.stages.GraphLookup)">Aggregation</a></code></span></div>
<div class="block">Performs a recursive search on a collection, with options for restricting the search by recursion depth and query filter.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#graphLookup(dev.morphia.aggregation.stages.GraphLookup)">graphLookup</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lookup</code> - the lookup configuration</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="group(dev.morphia.aggregation.stages.Group)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>group</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;group&#8203;(<a href="stages/Group.html" title="class in dev.morphia.aggregation.stages">Group</a>&nbsp;group)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#group(dev.morphia.aggregation.stages.Group)">Aggregation</a></code></span></div>
<div class="block">Groups input documents by the specified _id expression and for each distinct grouping, outputs a document. The _id field of each
 output document contains the unique group by value. The output documents can also contain computed fields that hold the values of
 some accumulator expression.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#group(dev.morphia.aggregation.stages.Group)">group</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>group</code> - the group definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="indexStats()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexStats</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;indexStats()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#indexStats()">Aggregation</a></code></span></div>
<div class="block">Returns statistics regarding the use of each index for the collection. If running with access control, the user must have
 privileges that include indexStats action.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#indexStats()">indexStats</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="limit(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>limit</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;limit&#8203;(long&nbsp;limit)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#limit(long)">Aggregation</a></code></span></div>
<div class="block">Limits the number of documents passed to the next stage in the pipeline.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#limit(long)">limit</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>limit</code> - the maximum docs to pass along to the next stage</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="lookup(dev.morphia.aggregation.stages.Lookup)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lookup</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;lookup&#8203;(<a href="stages/Lookup.html" title="class in dev.morphia.aggregation.stages">Lookup</a>&nbsp;lookup)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#lookup(dev.morphia.aggregation.stages.Lookup)">Aggregation</a></code></span></div>
<div class="block">Performs a left outer join to an unsharded collection in the same database to filter in documents from the “joined” collection for
 processing. To each input document, the $lookup stage adds a new array field whose elements are the matching documents from the
 “joined” collection. The $lookup stage passes these reshaped documents to the next stage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#lookup(dev.morphia.aggregation.stages.Lookup)">lookup</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lookup</code> - the lookup definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="match(dev.morphia.query.filters.Filter...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>match</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;match&#8203;(<a href="../query/filters/Filter.html" title="class in dev.morphia.query.filters">Filter</a>...&nbsp;filters)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#match(dev.morphia.query.filters.Filter...)">Aggregation</a></code></span></div>
<div class="block">Filters the document stream to allow only matching documents to pass unmodified into the next pipeline stage. $match uses standard
 MongoDB queries. For each input document, outputs either one document (a match) or zero documents (no match).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#match(dev.morphia.query.filters.Filter...)">match</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filters</code> - the filters to use when matching</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="merge(dev.morphia.aggregation.stages.Merge)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre class="methodSignature">public&nbsp;&lt;M&gt;&nbsp;void&nbsp;merge&#8203;(<a href="stages/Merge.html" title="class in dev.morphia.aggregation.stages">Merge</a>&lt;M&gt;&nbsp;merge)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#merge(dev.morphia.aggregation.stages.Merge)">Aggregation</a></code></span></div>
<div class="block">Writes the results of the aggregation pipeline to a specified collection. The $merge operator must be the last stage in the pipeline.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#merge(dev.morphia.aggregation.stages.Merge)">merge</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>M</code> - the output collection type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>merge</code> - the merge definition</dd>
</dl>
</li>
</ul>
<a id="merge(dev.morphia.aggregation.stages.Merge,dev.morphia.aggregation.AggregationOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre class="methodSignature">public&nbsp;&lt;M&gt;&nbsp;void&nbsp;merge&#8203;(<a href="stages/Merge.html" title="class in dev.morphia.aggregation.stages">Merge</a>&lt;M&gt;&nbsp;merge,
                      <a href="AggregationOptions.html" title="class in dev.morphia.aggregation">AggregationOptions</a>&nbsp;options)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#merge(dev.morphia.aggregation.stages.Merge,dev.morphia.aggregation.AggregationOptions)">Aggregation</a></code></span></div>
<div class="block">Writes the results of the aggregation pipeline to a specified collection. The $merge operator must be the last stage in the pipeline.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#merge(dev.morphia.aggregation.stages.Merge,dev.morphia.aggregation.AggregationOptions)">merge</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>M</code> - the output collection type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>merge</code> - the merge definition</dd>
<dd><code>options</code> - the options to apply</dd>
</dl>
</li>
</ul>
<a id="out(dev.morphia.aggregation.stages.Out)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>out</h4>
<pre class="methodSignature">public&nbsp;&lt;O&gt;&nbsp;void&nbsp;out&#8203;(<a href="stages/Out.html" title="class in dev.morphia.aggregation.stages">Out</a>&lt;O&gt;&nbsp;out)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#out(dev.morphia.aggregation.stages.Out)">Aggregation</a></code></span></div>
<div class="block">Writes the results of the aggregation pipeline to a specified collection. The $out operator must be the last stage in the pipeline.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#out(dev.morphia.aggregation.stages.Out)">out</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>O</code> - the output collection type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>out</code> - the out definition</dd>
</dl>
</li>
</ul>
<a id="out(dev.morphia.aggregation.stages.Out,dev.morphia.aggregation.AggregationOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>out</h4>
<pre class="methodSignature">public&nbsp;&lt;O&gt;&nbsp;void&nbsp;out&#8203;(<a href="stages/Out.html" title="class in dev.morphia.aggregation.stages">Out</a>&lt;O&gt;&nbsp;out,
                    <a href="AggregationOptions.html" title="class in dev.morphia.aggregation">AggregationOptions</a>&nbsp;options)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#out(dev.morphia.aggregation.stages.Out,dev.morphia.aggregation.AggregationOptions)">Aggregation</a></code></span></div>
<div class="block">Writes the results of the aggregation pipeline to a specified collection. The $out operator must be the last stage in the pipeline.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#out(dev.morphia.aggregation.stages.Out,dev.morphia.aggregation.AggregationOptions)">out</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>O</code> - the output collection type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>out</code> - the out definition</dd>
<dd><code>options</code> - the options to apply</dd>
</dl>
</li>
</ul>
<a id="planCacheStats()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>planCacheStats</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;planCacheStats()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#planCacheStats()">Aggregation</a></code></span></div>
<div class="block">Returns plan cache information for a collection. The stage returns a document for each plan cache entry.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#planCacheStats()">planCacheStats</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="project(dev.morphia.aggregation.stages.Projection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>project</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;project&#8203;(<a href="stages/Projection.html" title="class in dev.morphia.aggregation.stages">Projection</a>&nbsp;projection)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#project(dev.morphia.aggregation.stages.Projection)">Aggregation</a></code></span></div>
<div class="block">Passes along the documents with the requested fields to the next stage in the pipeline. The specified fields can be existing fields
 from the input documents or newly computed fields.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#project(dev.morphia.aggregation.stages.Projection)">project</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>projection</code> - the project definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="redact(dev.morphia.aggregation.stages.Redact)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>redact</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;redact&#8203;(<a href="stages/Redact.html" title="class in dev.morphia.aggregation.stages">Redact</a>&nbsp;redact)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#redact(dev.morphia.aggregation.stages.Redact)">Aggregation</a></code></span></div>
<div class="block">Restricts the contents of the documents based on information stored in the documents themselves.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#redact(dev.morphia.aggregation.stages.Redact)">redact</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>redact</code> - the redaction definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="replaceRoot(dev.morphia.aggregation.stages.ReplaceRoot)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceRoot</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;replaceRoot&#8203;(<a href="stages/ReplaceRoot.html" title="class in dev.morphia.aggregation.stages">ReplaceRoot</a>&nbsp;root)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#replaceRoot(dev.morphia.aggregation.stages.ReplaceRoot)">Aggregation</a></code></span></div>
<div class="block">Replaces the input document with the specified document. The operation replaces all existing fields in the input document,
 including the _id field. You can promote an existing embedded document to the top level, or create a new document for promotion</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#replaceRoot(dev.morphia.aggregation.stages.ReplaceRoot)">replaceRoot</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>root</code> - the new root definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="replaceWith(dev.morphia.aggregation.stages.ReplaceWith)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceWith</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;replaceWith&#8203;(<a href="stages/ReplaceWith.html" title="class in dev.morphia.aggregation.stages">ReplaceWith</a>&nbsp;with)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#replaceWith(dev.morphia.aggregation.stages.ReplaceWith)">Aggregation</a></code></span></div>
<div class="block">Replaces the input document with the specified document. The operation replaces all existing fields in the input document,
 including the _id field. With $replaceWith, you can promote an embedded document to the top-level. You can also specify a new
 document as the replacement.
 <p>
 The $replaceWith is an alias for $replaceRoot.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#replaceWith(dev.morphia.aggregation.stages.ReplaceWith)">replaceWith</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>with</code> - the replacement definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="sample(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sample</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;sample&#8203;(long&nbsp;sample)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#sample(long)">Aggregation</a></code></span></div>
<div class="block">Randomly selects the specified number of documents from the previous pipeline stage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#sample(long)">sample</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sample</code> - the sample definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="addFields(dev.morphia.aggregation.stages.AddFields)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addFields</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;addFields&#8203;(<a href="stages/AddFields.html" title="class in dev.morphia.aggregation.stages">AddFields</a>&nbsp;fields)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#addFields(dev.morphia.aggregation.stages.AddFields)">Aggregation</a></code></span></div>
<div class="block">Adds new fields to documents. $addFields outputs documents that contain all existing fields from the input documents and newly
 added fields.
 <p>
 The $addFields stage is equivalent to a $project stage that explicitly specifies all existing fields in the input documents and
 adds the new fields.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#addFields(dev.morphia.aggregation.stages.AddFields)">addFields</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fields</code> - the stage definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="set(dev.morphia.aggregation.stages.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>set</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;set&#8203;(<a href="stages/Set.html" title="class in dev.morphia.aggregation.stages">Set</a>&nbsp;set)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#set(dev.morphia.aggregation.stages.Set)">Aggregation</a></code></span></div>
<div class="block">Adds new fields to documents. $set outputs documents that contain all existing fields from the input documents and newly added
 fields.
 <p>
 The $set stage is an alias for $addFields.
 <p>
 Both stages are equivalent to a $project stage that explicitly specifies all existing fields in the input documents and adds the
 new fields.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#set(dev.morphia.aggregation.stages.Set)">set</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>set</code> - the stage to add</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="setWindowFields(dev.morphia.aggregation.stages.SetWindowFields)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setWindowFields</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;setWindowFields&#8203;(<a href="stages/SetWindowFields.html" title="class in dev.morphia.aggregation.stages">SetWindowFields</a>&nbsp;fields)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#setWindowFields(dev.morphia.aggregation.stages.SetWindowFields)">setWindowFields</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="skip(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skip</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;skip&#8203;(long&nbsp;skip)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#skip(long)">Aggregation</a></code></span></div>
<div class="block">Skips over the specified number of documents that pass into the stage and passes the remaining documents to the next stage in the
 pipeline.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#skip(long)">skip</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>skip</code> - the skip definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="sort(dev.morphia.aggregation.stages.Sort)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sort</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;sort&#8203;(<a href="stages/Sort.html" title="class in dev.morphia.aggregation.stages">Sort</a>&nbsp;sort)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#sort(dev.morphia.aggregation.stages.Sort)">Aggregation</a></code></span></div>
<div class="block">Sorts all input documents and returns them to the pipeline in sorted order.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#sort(dev.morphia.aggregation.stages.Sort)">sort</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sort</code> - the sort definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="sortByCount(dev.morphia.aggregation.expressions.impls.Expression)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sortByCount</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;sortByCount&#8203;(dev.morphia.aggregation.expressions.impls.Expression&nbsp;sort)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#sortByCount(dev.morphia.aggregation.expressions.impls.Expression)">Aggregation</a></code></span></div>
<div class="block">Groups incoming documents based on the value of a specified expression, then computes the count of documents in each distinct group.
 <p>
 Each output document contains two fields: an _id field containing the distinct grouping value, and a count field containing the
 number of documents belonging to that grouping or category.
 <p>
 The documents are sorted by count in descending order.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#sortByCount(dev.morphia.aggregation.expressions.impls.Expression)">sortByCount</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sort</code> - the sort definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="unionWith(java.lang.Class,dev.morphia.aggregation.stages.Stage,dev.morphia.aggregation.stages.Stage...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unionWith</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;unionWith&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;?&gt;&nbsp;type,
                                <a href="stages/Stage.html" title="class in dev.morphia.aggregation.stages">Stage</a>&nbsp;first,
                                <a href="stages/Stage.html" title="class in dev.morphia.aggregation.stages">Stage</a>...&nbsp;others)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#unionWith(java.lang.Class,dev.morphia.aggregation.stages.Stage,dev.morphia.aggregation.stages.Stage...)">Aggregation</a></code></span></div>
<div class="block">Performs a union of two collections; i.e. $unionWith combines pipeline results from two collections into a single result set. The
 stage outputs the combined result set (including duplicates) to the next stage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#unionWith(java.lang.Class,dev.morphia.aggregation.stages.Stage,dev.morphia.aggregation.stages.Stage...)">unionWith</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the type to perform the pipeline against</dd>
<dd><code>first</code> - the first pipeline stage</dd>
<dd><code>others</code> - the other pipeline stages</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="unionWith(java.lang.String,dev.morphia.aggregation.stages.Stage,dev.morphia.aggregation.stages.Stage...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unionWith</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;unionWith&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;collection,
                                <a href="stages/Stage.html" title="class in dev.morphia.aggregation.stages">Stage</a>&nbsp;first,
                                <a href="stages/Stage.html" title="class in dev.morphia.aggregation.stages">Stage</a>...&nbsp;others)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#unionWith(java.lang.String,dev.morphia.aggregation.stages.Stage,dev.morphia.aggregation.stages.Stage...)">Aggregation</a></code></span></div>
<div class="block">Performs a union of two collections; i.e. $unionWith combines pipeline results from two collections into a single result set. The
 stage outputs the combined result set (including duplicates) to the next stage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#unionWith(java.lang.String,dev.morphia.aggregation.stages.Stage,dev.morphia.aggregation.stages.Stage...)">unionWith</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>collection</code> - the collection to perform the pipeline against</dd>
<dd><code>first</code> - the first pipeline stage</dd>
<dd><code>others</code> - the other pipeline stages</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="unset(dev.morphia.aggregation.stages.Unset)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unset</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;unset&#8203;(<a href="stages/Unset.html" title="class in dev.morphia.aggregation.stages">Unset</a>&nbsp;unset)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#unset(dev.morphia.aggregation.stages.Unset)">Aggregation</a></code></span></div>
<div class="block">Removes/excludes fields from documents. Names must not start with '$'.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#unset(dev.morphia.aggregation.stages.Unset)">unset</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>unset</code> - the unset definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="unwind(dev.morphia.aggregation.stages.Unwind)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unwind</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;unwind&#8203;(<a href="stages/Unwind.html" title="class in dev.morphia.aggregation.stages">Unwind</a>&nbsp;unwind)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#unwind(dev.morphia.aggregation.stages.Unwind)">Aggregation</a></code></span></div>
<div class="block">Deconstructs an array field from the input documents to output a document for each element. Each output document is the input
 document with the value of the array field replaced by the element.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#unwind(dev.morphia.aggregation.stages.Unwind)">unwind</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>unwind</code> - the unwind definition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="changeStream()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeStream</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;changeStream()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#changeStream()">Aggregation</a></code></span></div>
<div class="block">Returns a Change Stream cursor on a collection, a database, or an entire cluster. Must be used as the first stage in an
 aggregation pipeline.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#changeStream()">changeStream</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="changeStream(dev.morphia.aggregation.stages.ChangeStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeStream</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;changeStream&#8203;(<a href="stages/ChangeStream.html" title="class in dev.morphia.aggregation.stages">ChangeStream</a>&nbsp;stream)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#changeStream(dev.morphia.aggregation.stages.ChangeStream)">Aggregation</a></code></span></div>
<div class="block">Returns a Change Stream cursor on a collection, a database, or an entire cluster. Must be used as the first stage in an
 aggregation pipeline.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#changeStream(dev.morphia.aggregation.stages.ChangeStream)">changeStream</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stream</code> - the options to apply to the stage</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="getStages()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStages</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="stages/Stage.html" title="class in dev.morphia.aggregation.stages">Stage</a>&gt;&nbsp;getStages()</pre>
</li>
</ul>
<a id="pipeline()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pipeline</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://mongodb.github.io/mongo-java-driver/5.4/apidocs/bson/org/bson/Document.html?is-external=true" title="class or interface in org.bson" class="externalLink">Document</a>&gt;&nbsp;pipeline()</pre>
</li>
</ul>
<a id="addStage(dev.morphia.aggregation.stages.Stage)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addStage</h4>
<pre class="methodSignature">public&nbsp;<a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;&nbsp;addStage&#8203;(<a href="stages/Stage.html" title="class in dev.morphia.aggregation.stages">Stage</a>&nbsp;stage)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="Aggregation.html#addStage(dev.morphia.aggregation.stages.Stage)">Aggregation</a></code></span></div>
<div class="block">Adds a custom stage to this pipeline. Sometimes a new server release comes out with new stages and Morphia can lag sometimes.
 Using this method, custom stages can be added to fill that gap until Morphia can catch up. This method is marked as internal
 because while it should remain relatively stable, it may shift as needs evolve and isn't intended for general use.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="Aggregation.html#addStage(dev.morphia.aggregation.stages.Stage)">addStage</a></code>&nbsp;in interface&nbsp;<code><a href="Aggregation.html" title="interface in dev.morphia.aggregation">Aggregation</a>&lt;<a href="AggregationImpl.html" title="type parameter in AggregationImpl">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stage</code> - the new Stage</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AggregationImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2025. All rights reserved.</small></p>
</footer>
</body>
</html>
